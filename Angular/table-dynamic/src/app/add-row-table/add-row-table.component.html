<form [formGroup]="form">
    <h2>Student Form</h2>
    <mat-form-field>
      <input matInput placeholder="Name" value="" formControlName="name">
    </mat-form-field>
    <h2>Course-Score table</h2>
    <table mat-table [dataSource]="dataSource" formArrayName="marks">
      <!-- Row definitions -->
      <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
      <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns;"></tr>
  
      <!-- Column definitions -->
      <ng-container matColumnDef="course">
        <th mat-header-cell *matHeaderCellDef> Course </th>
        <td mat-cell *matCellDef="let row; let index = index"  [formGroupName]="index">
          <mat-form-field>
            <input matInput type="text" value="" formControlName="course">
          </mat-form-field>
        </td>
      </ng-container>
  
      <ng-container matColumnDef="score">
        <th mat-header-cell *matHeaderCellDef> Score </th>
        <td mat-cell *matCellDef="let row; let index = index"  [formGroupName]="index">
          <input type="number"  formControlName="score" placeholder="Score">
          <!--<mat-form-field>
            <input matInput type="number" value="" formControlName="score" placeholder="Score">
          </mat-form-field>-->
        </td>
      </ng-container>
    </table>
    <button type="button" (click)="addRow()">Add row</button>
  </form>
  
  <pre>{{ form.value | json }}</pre>
